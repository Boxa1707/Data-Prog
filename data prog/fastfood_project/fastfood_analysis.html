<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Slobodan Jovanic">

<title>Fast Food Nutrition Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="fastfood_analysis_files/libs/clipboard/clipboard.min.js"></script>
<script src="fastfood_analysis_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="fastfood_analysis_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="fastfood_analysis_files/libs/quarto-html/popper.min.js"></script>
<script src="fastfood_analysis_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="fastfood_analysis_files/libs/quarto-html/anchor.min.js"></script>
<link href="fastfood_analysis_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="fastfood_analysis_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="fastfood_analysis_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="fastfood_analysis_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="fastfood_analysis_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Fast Food Nutrition Analysis</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Slobodan Jovanic </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Fast food is widely consumed around the world, but it is often criticized for its nutritional content. In this project, we analyze a dataset containing nutrition facts from popular fast food chains. The main research questions are: Which food categories have the highest calorie content? How do sugar levels vary across different menu items? What is the relationship between different nutritional components? The goal is to explore calorie counts, sugar levels, and fat content across various menu items and chains to provide insights into fast food nutrition patterns.</p>
</section>
<section id="data-presentation" class="level2">
<h2 class="anchored" data-anchor-id="data-presentation">Data Presentation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.2     ✔ tibble    3.2.1
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.0.4     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load dataset</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>menu <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/menu.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 260 Columns: 24
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (3): Category, Item, Serving Size
dbl (21): Calories, Calories from Fat, Total Fat, Total Fat (% Daily Value),...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show first few rows</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(menu)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 24
  Category  Item         `Serving Size` Calories `Calories from Fat` `Total Fat`
  &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;             &lt;dbl&gt;               &lt;dbl&gt;       &lt;dbl&gt;
1 Breakfast Egg McMuffin 4.8 oz (136 g)      300                 120          13
2 Breakfast Egg White D… 4.8 oz (135 g)      250                  70           8
3 Breakfast Sausage McM… 3.9 oz (111 g)      370                 200          23
4 Breakfast Sausage McM… 5.7 oz (161 g)      450                 250          28
5 Breakfast Sausage McM… 5.7 oz (161 g)      400                 210          23
6 Breakfast Steak &amp; Egg… 6.5 oz (185 g)      430                 210          23
# ℹ 18 more variables: `Total Fat (% Daily Value)` &lt;dbl&gt;,
#   `Saturated Fat` &lt;dbl&gt;, `Saturated Fat (% Daily Value)` &lt;dbl&gt;,
#   `Trans Fat` &lt;dbl&gt;, Cholesterol &lt;dbl&gt;, `Cholesterol (% Daily Value)` &lt;dbl&gt;,
#   Sodium &lt;dbl&gt;, `Sodium (% Daily Value)` &lt;dbl&gt;, Carbohydrates &lt;dbl&gt;,
#   `Carbohydrates (% Daily Value)` &lt;dbl&gt;, `Dietary Fiber` &lt;dbl&gt;,
#   `Dietary Fiber (% Daily Value)` &lt;dbl&gt;, Sugars &lt;dbl&gt;, Protein &lt;dbl&gt;,
#   `Vitamin A (% Daily Value)` &lt;dbl&gt;, `Vitamin C (% Daily Value)` &lt;dbl&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Overview of structure</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(menu)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 260
Columns: 24
$ Category                        &lt;chr&gt; "Breakfast", "Breakfast", "Breakfast",…
$ Item                            &lt;chr&gt; "Egg McMuffin", "Egg White Delight", "…
$ `Serving Size`                  &lt;chr&gt; "4.8 oz (136 g)", "4.8 oz (135 g)", "3…
$ Calories                        &lt;dbl&gt; 300, 250, 370, 450, 400, 430, 460, 520…
$ `Calories from Fat`             &lt;dbl&gt; 120, 70, 200, 250, 210, 210, 230, 270,…
$ `Total Fat`                     &lt;dbl&gt; 13, 8, 23, 28, 23, 23, 26, 30, 20, 25,…
$ `Total Fat (% Daily Value)`     &lt;dbl&gt; 20, 12, 35, 43, 35, 36, 40, 47, 32, 38…
$ `Saturated Fat`                 &lt;dbl&gt; 5, 3, 8, 10, 8, 9, 13, 14, 11, 12, 12,…
$ `Saturated Fat (% Daily Value)` &lt;dbl&gt; 25, 15, 42, 52, 42, 46, 65, 68, 56, 59…
$ `Trans Fat`                     &lt;dbl&gt; 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0…
$ Cholesterol                     &lt;dbl&gt; 260, 25, 45, 285, 50, 300, 250, 250, 3…
$ `Cholesterol (% Daily Value)`   &lt;dbl&gt; 87, 8, 15, 95, 16, 100, 83, 83, 11, 11…
$ Sodium                          &lt;dbl&gt; 750, 770, 780, 860, 880, 960, 1300, 14…
$ `Sodium (% Daily Value)`        &lt;dbl&gt; 31, 32, 33, 36, 37, 40, 54, 59, 54, 59…
$ Carbohydrates                   &lt;dbl&gt; 31, 30, 29, 30, 30, 31, 38, 43, 36, 42…
$ `Carbohydrates (% Daily Value)` &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 13, 14, 12, 14…
$ `Dietary Fiber`                 &lt;dbl&gt; 4, 4, 4, 4, 4, 4, 2, 3, 2, 3, 2, 3, 2,…
$ `Dietary Fiber (% Daily Value)` &lt;dbl&gt; 17, 17, 17, 17, 17, 18, 7, 12, 7, 12, …
$ Sugars                          &lt;dbl&gt; 3, 3, 2, 2, 2, 3, 3, 4, 3, 4, 2, 3, 2,…
$ Protein                         &lt;dbl&gt; 17, 18, 14, 21, 21, 26, 19, 19, 20, 20…
$ `Vitamin A (% Daily Value)`     &lt;dbl&gt; 10, 6, 8, 15, 6, 15, 10, 15, 2, 6, 0, …
$ `Vitamin C (% Daily Value)`     &lt;dbl&gt; 0, 0, 0, 0, 0, 2, 8, 8, 8, 8, 0, 0, 0,…
$ `Calcium (% Daily Value)`       &lt;dbl&gt; 25, 25, 25, 30, 25, 30, 15, 20, 15, 15…
$ `Iron (% Daily Value)`          &lt;dbl&gt; 15, 8, 10, 15, 10, 20, 15, 20, 10, 15,…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(menu)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Category             Item           Serving Size          Calories     
 Length:260         Length:260         Length:260         Min.   :   0.0  
 Class :character   Class :character   Class :character   1st Qu.: 210.0  
 Mode  :character   Mode  :character   Mode  :character   Median : 340.0  
                                                          Mean   : 368.3  
                                                          3rd Qu.: 500.0  
                                                          Max.   :1880.0  
 Calories from Fat   Total Fat       Total Fat (% Daily Value) Saturated Fat   
 Min.   :   0.0    Min.   :  0.000   Min.   :  0.00            Min.   : 0.000  
 1st Qu.:  20.0    1st Qu.:  2.375   1st Qu.:  3.75            1st Qu.: 1.000  
 Median : 100.0    Median : 11.000   Median : 17.00            Median : 5.000  
 Mean   : 127.1    Mean   : 14.165   Mean   : 21.82            Mean   : 6.008  
 3rd Qu.: 200.0    3rd Qu.: 22.250   3rd Qu.: 35.00            3rd Qu.:10.000  
 Max.   :1060.0    Max.   :118.000   Max.   :182.00            Max.   :20.000  
 Saturated Fat (% Daily Value)   Trans Fat       Cholesterol    
 Min.   :  0.00                Min.   :0.0000   Min.   :  0.00  
 1st Qu.:  4.75                1st Qu.:0.0000   1st Qu.:  5.00  
 Median : 24.00                Median :0.0000   Median : 35.00  
 Mean   : 29.97                Mean   :0.2038   Mean   : 54.94  
 3rd Qu.: 48.00                3rd Qu.:0.0000   3rd Qu.: 65.00  
 Max.   :102.00                Max.   :2.5000   Max.   :575.00  
 Cholesterol (% Daily Value)     Sodium       Sodium (% Daily Value)
 Min.   :  0.00              Min.   :   0.0   Min.   :  0.00        
 1st Qu.:  2.00              1st Qu.: 107.5   1st Qu.:  4.75        
 Median : 11.00              Median : 190.0   Median :  8.00        
 Mean   : 18.39              Mean   : 495.8   Mean   : 20.68        
 3rd Qu.: 21.25              3rd Qu.: 865.0   3rd Qu.: 36.25        
 Max.   :192.00              Max.   :3600.0   Max.   :150.00        
 Carbohydrates    Carbohydrates (% Daily Value) Dietary Fiber  
 Min.   :  0.00   Min.   : 0.00                 Min.   :0.000  
 1st Qu.: 30.00   1st Qu.:10.00                 1st Qu.:0.000  
 Median : 44.00   Median :15.00                 Median :1.000  
 Mean   : 47.35   Mean   :15.78                 Mean   :1.631  
 3rd Qu.: 60.00   3rd Qu.:20.00                 3rd Qu.:3.000  
 Max.   :141.00   Max.   :47.00                 Max.   :7.000  
 Dietary Fiber (% Daily Value)     Sugars          Protein     
 Min.   : 0.000                Min.   :  0.00   Min.   : 0.00  
 1st Qu.: 0.000                1st Qu.:  5.75   1st Qu.: 4.00  
 Median : 5.000                Median : 17.50   Median :12.00  
 Mean   : 6.531                Mean   : 29.42   Mean   :13.34  
 3rd Qu.:10.000                3rd Qu.: 48.00   3rd Qu.:19.00  
 Max.   :28.000                Max.   :128.00   Max.   :87.00  
 Vitamin A (% Daily Value) Vitamin C (% Daily Value) Calcium (% Daily Value)
 Min.   :  0.00            Min.   :  0.000           Min.   : 0.00          
 1st Qu.:  2.00            1st Qu.:  0.000           1st Qu.: 6.00          
 Median :  8.00            Median :  0.000           Median :20.00          
 Mean   : 13.43            Mean   :  8.535           Mean   :20.97          
 3rd Qu.: 15.00            3rd Qu.:  4.000           3rd Qu.:30.00          
 Max.   :170.00            Max.   :240.000           Max.   :70.00          
 Iron (% Daily Value)
 Min.   : 0.000      
 1st Qu.: 0.000      
 Median : 4.000      
 Mean   : 7.735      
 3rd Qu.:15.000      
 Max.   :40.000      </code></pre>
</div>
</div>
<p><strong>Data Description:</strong> This dataset contains nutritional information for menu items from various fast food restaurants. The columns represent:</p>
<ul>
<li><strong>Item</strong>: Name of the menu item (text)</li>
<li><strong>Category</strong>: Food category (e.g., Breakfast, Chicken &amp; Fish, etc.)</li>
<li><strong>Calories</strong>: Energy content in kilocalories (kcal)</li>
<li><strong>Total Fat</strong>: Total fat content in grams (g)</li>
<li><strong>Saturated Fat</strong>: Saturated fat content in grams (g)</li>
<li><strong>Trans Fat</strong>: Trans fat content in grams (g)</li>
<li><strong>Cholesterol</strong>: Cholesterol content in milligrams (mg)</li>
<li><strong>Sodium</strong>: Sodium content in milligrams (mg)</li>
<li><strong>Carbohydrates</strong>: Total carbohydrate content in grams (g)</li>
<li><strong>Fiber</strong>: Dietary fiber content in grams (g)</li>
<li><strong>Sugars</strong>: Sugar content in grams (g)</li>
<li><strong>Protein</strong>: Protein content in grams (g)</li>
</ul>
</section>
<section id="data-transformation" class="level2">
<h2 class="anchored" data-anchor-id="data-transformation">Data Transformation</h2>
<section id="table-1-high-calorie-items-summary-by-category" class="level3">
<h3 class="anchored" data-anchor-id="table-1-high-calorie-items-summary-by-category">Table 1: High-Calorie Items Summary by Category</h3>
<p>This table shows categories with items over 500 calories, providing count and average values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>high_calorie_summary <span class="ot">&lt;-</span> menu <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Calories <span class="sc">&gt;</span> <span class="dv">500</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Category) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">item_count =</span> <span class="fu">n</span>(),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_calories =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Calories, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_calories =</span> <span class="fu">max</span>(Calories, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_total_fat =</span> <span class="fu">round</span>(<span class="fu">mean</span>(<span class="st">`</span><span class="at">Total Fat</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_calories))</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>high_calorie_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  Category           item_count avg_calories max_calories avg_total_fat
  &lt;chr&gt;                   &lt;int&gt;        &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;
1 Chicken &amp; Fish             13         725.         1880          37.1
2 Breakfast                  18         708.         1150          38.9
3 Smoothies &amp; Shakes         16         705           930          21.6
4 Coffee &amp; Tea                8         612.          760          24.8
5 Beef &amp; Pork                 7         610           750          31.9
6 Snacks &amp; Sides              1         510           510          24  </code></pre>
</div>
</div>
<p>This transformation filters items with more than 500 calories and groups them by category. It reveals which categories consistently offer high-calorie options and their nutritional characteristics.</p>
</section>
<section id="table-2-nutritional-categories-classification" class="level3">
<h3 class="anchored" data-anchor-id="table-2-nutritional-categories-classification">Table 2: Nutritional Categories Classification</h3>
<p>This table classifies items into nutritional categories based on calorie and sugar content.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>nutritional_classification <span class="ot">&lt;-</span> menu <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">calorie_level =</span> <span class="fu">case_when</span>(</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>      Calories <span class="sc">&lt;</span> <span class="dv">300</span> <span class="sc">~</span> <span class="st">"Low"</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>      Calories <span class="sc">&lt;</span> <span class="dv">600</span> <span class="sc">~</span> <span class="st">"Medium"</span>, </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"High"</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sugar_level =</span> <span class="fu">case_when</span>(</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>      Sugars <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"Low Sugar"</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>      Sugars <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"Medium Sugar"</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"High Sugar"</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(calorie_level, sugar_level) <span class="sc">%&gt;%</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">count =</span> <span class="fu">n</span>(),</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_calories =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Calories, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>),</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_sugars =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Sugars, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>),</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(count))</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>nutritional_classification</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 5
  calorie_level sugar_level  count avg_calories avg_sugars
  &lt;chr&gt;         &lt;chr&gt;        &lt;int&gt;        &lt;dbl&gt;      &lt;dbl&gt;
1 Medium        High Sugar      48        406.        57.1
2 Low           High Sugar      46        233.        44.4
3 Medium        Low Sugar       45        437.         4.6
4 Low           Low Sugar       36         96.4        1.6
5 Low           Medium Sugar    31        164.        19.1
6 High          High Sugar      16        741.        99.4
7 Medium        Medium Sugar    16        471.        13.6
8 High          Medium Sugar    12        805         13.8
9 High          Low Sugar       10        822          4.3</code></pre>
</div>
</div>
<p>This transformation creates new categorical variables for calorie and sugar levels, then summarizes the distribution of items across these categories. It helps identify patterns in how calorie and sugar content relate to each other.</p>
</section>
<section id="table-3-category-comparison-with-nutritional-ratios" class="level3">
<h3 class="anchored" data-anchor-id="table-3-category-comparison-with-nutritional-ratios">Table 3: Category Comparison with Nutritional Ratios</h3>
<p>This table compares categories using derived nutritional ratios and rankings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>category_comparison <span class="ot">&lt;-</span> menu <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Category) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">item_count =</span> <span class="fu">n</span>(),</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_calories =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Calories, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>),</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_protein =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Protein, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>),</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_sugars =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Sugars, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>),</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">protein_to_calorie_ratio =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Protein, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fu">mean</span>(Calories, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>),</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">'drop'</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">calorie_rank =</span> <span class="fu">rank</span>(<span class="fu">desc</span>(avg_calories)),</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">protein_efficiency_rank =</span> <span class="fu">rank</span>(<span class="fu">desc</span>(protein_to_calorie_ratio))</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_calories))</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>category_comparison</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 8
  Category item_count avg_calories avg_protein avg_sugars protein_to_calorie_r…¹
  &lt;chr&gt;         &lt;int&gt;        &lt;dbl&gt;       &lt;dbl&gt;      &lt;dbl&gt;                  &lt;dbl&gt;
1 Chicken…         27         553         29.1        7.3                   5.26
2 Smoothi…         28         531.        10.9       77.9                   2.04
3 Breakfa…         42         527.        19.9        8.3                   3.77
4 Beef &amp; …         15         494         27.3        8.8                   5.53
5 Coffee …         95         284.         8.9       39.6                   3.12
6 Salads            6         270         19.8        6.8                   7.35
7 Snacks …         13         246.         8.4        4.1                   3.41
8 Desserts          7         222.         4         26.1                   1.8 
9 Beverag…         27         114.         1.3       27.9                   1.17
# ℹ abbreviated name: ¹​protein_to_calorie_ratio
# ℹ 2 more variables: calorie_rank &lt;dbl&gt;, protein_efficiency_rank &lt;dbl&gt;</code></pre>
</div>
</div>
<p>This transformation calculates protein-to-calorie ratios and creates rankings to identify which categories offer the most protein per calorie, helping assess nutritional efficiency across categories.</p>
</section>
</section>
<section id="data-visualization" class="level2">
<h2 class="anchored" data-anchor-id="data-visualization">Data Visualization</h2>
<section id="bar-plot-of-average-calories-per-category" class="level3">
<h3 class="anchored" data-anchor-id="bar-plot-of-average-calories-per-category">1. Bar Plot of Average Calories per Category</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>menu <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Category) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_calories =</span> <span class="fu">mean</span>(Calories, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Category, <span class="sc">-</span>avg_calories), <span class="at">y =</span> avg_calories, <span class="at">fill =</span> Category)) <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Average Calories by Food Category"</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Category"</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Average Calories (kcal)"</span>) <span class="sc">+</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="fastfood_analysis_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This bar chart shows the average calorie content across different food categories. Smoothies &amp; Shakes and Chicken &amp; Fish categories have the highest average calories, while Salads have the lowest. This visualization helps identify which categories to approach with caution for calorie-conscious consumers.</p>
</section>
<section id="box-plot-of-calories-distribution-by-category" class="level3">
<h3 class="anchored" data-anchor-id="box-plot-of-calories-distribution-by-category">2. Box Plot of Calories Distribution by Category</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>menu <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Category, <span class="at">y =</span> Calories, <span class="at">fill =</span> Category)) <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Calories by Category"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Category"</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Calories (kcal)"</span>) <span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="fastfood_analysis_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This box plot reveals the distribution and variability of calories within each category. It shows outliers and the range of calorie content, indicating that some categories like Chicken &amp; Fish have high variability, while others like Salads are more consistent. The presence of outliers suggests some extremely high-calorie items in certain categories.</p>
</section>
<section id="scatter-plot-of-sugar-vs.-calories-relationship" class="level3">
<h3 class="anchored" data-anchor-id="scatter-plot-of-sugar-vs.-calories-relationship">3. Scatter Plot of Sugar vs.&nbsp;Calories Relationship</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>menu <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sugars, <span class="at">y =</span> Calories, <span class="at">color =</span> Category)) <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relationship between Sugar Content and Calories"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Sugar Content (g)"</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Calories (kcal)"</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Category"</span>) <span class="sc">+</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="fastfood_analysis_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This scatter plot explores the relationship between sugar content and total calories across all menu items. The trend line suggests a positive correlation between sugar and calories. Items from Smoothies &amp; Shakes category tend to cluster in the high-sugar, high-calorie area, while most other items are concentrated in the lower sugar range.</p>
</section>
</section>
<section id="interpretation-conclusion" class="level2">
<h2 class="anchored" data-anchor-id="interpretation-conclusion">Interpretation / Conclusion</h2>
<p>The analysis reveals several important insights about fast food nutrition:</p>
<ol type="1">
<li><p><strong>Category Differences</strong>: Smoothies &amp; Shakes and Chicken &amp; Fish categories have the highest average calorie content (over 400 kcal), while Salads are significantly lower (around 250 kcal). This suggests that beverage choices and protein-based items require more careful consideration for calorie management.</p></li>
<li><p><strong>Sugar Distribution</strong>: Sugar content varies dramatically, with some items containing over 80g of sugar (primarily beverages). Most food items contain relatively low sugar, but drinks can contribute significantly to daily sugar intake.</p></li>
<li><p><strong>Nutritional Efficiency</strong>: The protein-to-calorie ratio analysis shows that some categories like Chicken &amp; Fish provide better protein value per calorie, making them potentially better choices for those seeking protein while managing calories.</p></li>
<li><p><strong>Variability Within Categories</strong>: The box plots reveal high variability within categories, indicating that even within “unhealthy” categories, there are better and worse choices available.</p></li>
</ol>
<p>These findings highlight the importance of making informed choices even within fast food options, as nutritional content can vary significantly both between and within categories.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li>Dataset: <a href="https://www.kaggle.com/datasets/roshansharma/fast-food-nutrition">Fast Food Nutrition on Kaggle</a></li>
<li>R Documentation: https://cran.r-project.org/</li>
<li>ggplot2 Reference: https://ggplot2.tidyverse.org/</li>
<li><h2 id="tidyverse-documentation-httpswww.tidyverse.org" class="anchored">Tidyverse Documentation: https://www.tidyverse.org/</h2></li>
</ul>
</section>
<section id="quarto" class="level2">
<h2 class="anchored" data-anchor-id="quarto">Quarto</h2>
<p>Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see <a href="https://quarto.org" class="uri">https://quarto.org</a>.</p>
</section>
<section id="running-code" class="level2">
<h2 class="anchored" data-anchor-id="running-code">Running Code</h2>
<p>When you click the <strong>Render</strong> button a document will be generated that includes both content and the output of embedded code. You can embed code like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>You can add options to executable code like this</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p>The <code>echo: false</code> option disables the printing of code (only output is displayed).</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>